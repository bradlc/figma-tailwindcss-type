!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=14)}({14:function(t,e,n){"use strict";n.r(e);var i=function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function l(t){try{u(i.next(t))}catch(t){r(t)}}function f(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(l,f)}u((i=i.apply(t,e||[])).next())})},o=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n};const r=function(t){return t=t||Object.create(null),{on:function(e,n){(t[e]||(t[e]=[])).push(n)},off:function(e,n){t[e]&&t[e].splice(t[e].indexOf(n)>>>0,1)},emit:function(e,n){(t[e]||[]).slice().map(function(t){t(n)}),(t["*"]||[]).slice().map(function(t){t(e,n)})}}}();function l(t,e,n){e=e.split?e.split("."):e;for(let n=0;n<e.length;n++)t=t?t[e[n]]:void 0;return void 0===t?n:t}function f(t,e,n){e.split&&(e=e.split("."));for(var i,o=0,r=e.length,l=t;o<r;++o)i=l[e[o]],l=l[e[o]]=o===r-1?n:null!=i?i:!~e[o+1].indexOf(".")&&+e[o+1]>-1?[]:{}}function u(t){let e={fontWeight:400,fontStyle:"normal"};return/\b(thin|hairline)\b/i.test(t)?e.fontWeight=100:/\b(extra|ultra)[ -]light\b/i.test(t)?e.fontWeight=200:/\blight\b/i.test(t)?e.fontWeight=300:/\bmedium\b/i.test(t)?e.fontWeight=500:/\b(semi|demi)[ -]bold\b/i.test(t)?e.fontWeight=600:/\b(extra|ultra)[ -]bold\b/i.test(t)?e.fontWeight=800:/\bbold\b/i.test(t)?e.fontWeight=700:/\b(extra|ultra)[ -]black\b/i.test(t)?e.fontWeight=950:/\bblack\b/i.test(t)&&(e.fontWeight=900),/\bitalic\b/i.test(t)?e.fontStyle="italic":/\boblique\b/i.test(t)&&(e.fontStyle="oblique"),e}figma.ui.onmessage=t=>{var{type:e}=t,n=o(t,["type"]);r.emit(e,n)},r.on("READY",function(){return i(this,void 0,void 0,function*(){let t=figma.getLocalTextStyles(),e=t.filter(t=>1===(t.name.match(/\//g)||[]).length),n={};for(let t of e){let[e,i]=t.name.split("/");f(n,[e,"fontSize",i],`${t.fontSize}px`),f(n,[e,"letterSpacing"],"PERCENT"===t.letterSpacing.unit?`${t.letterSpacing.value/100}em`:`${t.letterSpacing.value/t.fontSize}em`),f(n,[e,"textTransform"],{ORIGINAL:"none",UPPER:"uppercase",LOWER:"lowercase",TITLE:"capitalize"}[t.textCase]),f(n,[e,"fontFamily"],[t.fontName.family]);let{fontWeight:o,fontStyle:a}=u(t.fontName.style);if(f(n,[e,"fontWeight"],o),f(n,[e,"fontStyle"],a),l(n,[e,"crop"]))continue;f(n,[e,"lineHeight"],"PERCENT"===t.lineHeight.unit?t.lineHeight.value/100:"PIXELS"===t.lineHeight.unit?t.lineHeight.value/t.fontSize:null),f(n,[e,"crop"],{}),"symbol"!=typeof t.fontName&&(yield figma.loadFontAsync(t.fontName));let c=figma.createText();c.textStyleId=t.id,c.textAutoResize="WIDTH_AND_HEIGHT",c.characters="HHHHH";let s=figma.group([c],figma.currentPage),p=yield s.exportAsync();s.remove();let g=new Promise(e=>{r.on("RESPONSE",n=>{n.id===t.id&&e(n)})});figma.ui.postMessage({type:"BYTES",id:t.id,bytes:p});let{top:b,bottom:m,height:h}=yield g;f(n,[e,"crop"],{top:b,bottom:m,fontSize:t.fontSize}),null===l(n,[e,"lineHeight"])&&f(n,[e,"lineHeight"],h/t.fontSize),f(n,[e,"crop","lineHeight"],l(n,[e,"lineHeight"]))}figma.ui.postMessage({type:"CONFIG",config:n})})}),figma.showUI(__html__,{width:242,height:400})}});